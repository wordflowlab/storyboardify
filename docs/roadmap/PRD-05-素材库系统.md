# PRD-05: Scriptify ç´ æåº“ç³»ç»Ÿ

**ç‰ˆæœ¬**: v1.0
**æ—¥æœŸ**: 2025-10-29
**ä¾èµ–**: PRD-01, PRD-04
**çŠ¶æ€**: è‰æ¡ˆ

---

## ä¸€ã€è®¾è®¡ç†å¿µ

### 1.1 ä¸ºä»€ä¹ˆéœ€è¦ç´ æåº“?

**æ ¸å¿ƒé—®é¢˜**: æ¯æ¬¡åˆ›ä½œéƒ½ä»é›¶å¼€å§‹,å¤§é‡é‡å¤åŠ³åŠ¨

| é‡å¤å†…å®¹ | ç¤ºä¾‹ | æµªè´¹æ—¶é—´ |
|---------|------|---------|
| **è§’è‰²è®¾å®š** | æ¯æ¬¡éƒ½è¦é‡æ–°æè¿°ä¸»è§’å¤–è§‚ | 10-20 åˆ†é’Ÿ/è§’è‰² |
| **åœºæ™¯æè¿°** | å¸¸ç”¨åœºæ™¯(åŠå…¬å®¤/è¡—é“)åå¤å®šä¹‰ | 5-10 åˆ†é’Ÿ/åœºæ™¯ |
| **å‰§æƒ…æ¡¥æ®µ** | ç»å…¸æƒ…èŠ‚(è¿½é€/å¯¹å³™)é‡å¤è®¾è®¡ | 30-60 åˆ†é’Ÿ |
| **è¿é•œå‚æ•°** | æ¯æ¬¡æ‰‹åŠ¨æ ‡æ³¨æ™¯åˆ«ã€è§’åº¦ | 5 åˆ†é’Ÿ/é•œå¤´ |

**è§£å†³æ–¹æ¡ˆ**: å€Ÿé‰´ **article-writer çš„ç´ æåº“è®¾è®¡**,å»ºç«‹å¯å¤ç”¨çš„ç´ æç®¡ç†ç³»ç»Ÿã€‚

---

## äºŒã€ç´ æåº“ç»“æ„

### 2.1 ç›®å½•ç»„ç»‡

```
materials/                          # ç´ æåº“æ ¹ç›®å½•
â”œâ”€â”€ characters/                     # è§’è‰²åº“
â”‚   â”œâ”€â”€ protagonists/               # ä¸»è§’
â”‚   â”‚   â”œâ”€â”€ detective-male.md       # ç”·æ€§ä¾¦æ¢åŸå‹
â”‚   â”‚   â”œâ”€â”€ detective-female.md     # å¥³æ€§ä¾¦æ¢åŸå‹
â”‚   â”‚   â””â”€â”€ student-teen.md         # é’å°‘å¹´å­¦ç”ŸåŸå‹
â”‚   â”œâ”€â”€ antagonists/                # åæ´¾
â”‚   â”‚   â”œâ”€â”€ crime-boss.md           # çŠ¯ç½ªå¤´ç›®åŸå‹
â”‚   â”‚   â””â”€â”€ corrupt-official.md     # è…è´¥å®˜å‘˜åŸå‹
â”‚   â””â”€â”€ supporting/                 # é…è§’
â”‚       â”œâ”€â”€ sidekick.md             # åŠ©æ‰‹åŸå‹
â”‚       â””â”€â”€ mentor.md               # å¯¼å¸ˆåŸå‹
â”‚
â”œâ”€â”€ scenes/                         # åœºæ™¯åº“
â”‚   â”œâ”€â”€ urban/                      # éƒ½å¸‚åœºæ™¯
â”‚   â”‚   â”œâ”€â”€ street-night.md         # å¤œæ™šè¡—é“
â”‚   â”‚   â”œâ”€â”€ office.md               # åŠå…¬å®¤
â”‚   â”‚   â””â”€â”€ cafe.md                 # å’–å•¡é¦†
â”‚   â”œâ”€â”€ indoor/                     # å®¤å†…åœºæ™¯
â”‚   â”‚   â”œâ”€â”€ living-room.md          # å®¢å…
â”‚   â”‚   â””â”€â”€ bedroom.md              # å§å®¤
â”‚   â””â”€â”€ special/                    # ç‰¹æ®Šåœºæ™¯
â”‚       â”œâ”€â”€ underground.md          # åœ°ä¸‹å®¤/å¯†å®¤
â”‚       â””â”€â”€ rooftop.md              # å¤©å°
â”‚
â”œâ”€â”€ plot-templates/                 # å‰§æƒ…æ¨¡æ¿åº“
â”‚   â”œâ”€â”€ confrontation.md            # å¯¹å³™æ¡¥æ®µ
â”‚   â”œâ”€â”€ chase.md                    # è¿½é€æˆ
â”‚   â”œâ”€â”€ revelation.md               # çœŸç›¸æ­æ™“
â”‚   â””â”€â”€ flashback.md                # é—ªå›
â”‚
â”œâ”€â”€ camera-presets/                 # è¿é•œé¢„è®¾
â”‚   â”œâ”€â”€ emotional/                  # æƒ…ç»ªç±»è¿é•œ
â”‚   â”‚   â”œâ”€â”€ tension-build.md        # ç´§å¼ æ„Ÿè¥é€ 
â”‚   â”‚   â””â”€â”€ romantic.md             # æµªæ¼«æ°›å›´
â”‚   â””â”€â”€ action/                     # åŠ¨ä½œç±»è¿é•œ
â”‚       â”œâ”€â”€ fast-paced.md           # å¿«èŠ‚å¥å‰ªè¾‘
â”‚       â””â”€â”€ slow-motion.md          # æ…¢åŠ¨ä½œ
â”‚
â”œâ”€â”€ prompts/                        # ç»˜å›¾æç¤ºè¯åº“
â”‚   â”œâ”€â”€ characters/                 # è§’è‰²æç¤ºè¯
â”‚   â”œâ”€â”€ scenes/                     # åœºæ™¯æç¤ºè¯
â”‚   â””â”€â”€ effects/                    # ç‰¹æ•ˆæç¤ºè¯
â”‚
â””â”€â”€ index/                          # ç´¢å¼•ç³»ç»Ÿ
    â”œâ”€â”€ tags.json                   # æ ‡ç­¾ç´¢å¼•
    â”œâ”€â”€ search-index.db             # æœç´¢ç´¢å¼• (SQLite)
    â””â”€â”€ usage-stats.json            # ä½¿ç”¨ç»Ÿè®¡
```

### 2.2 ç´ ææ–‡ä»¶æ ¼å¼

#### è§’è‰²ç´ æç¤ºä¾‹: `characters/protagonists/detective-male.md`

```markdown
---
type: character
category: protagonist
archetype: detective
gender: male
tags: [ä¾¦æ¢, å­¤ç‹¬, æ­£ä¹‰, æ²§æ¡‘, é»‘è‰²ç”µå½±]
created: 2025-10-29
lastUsed: 2025-10-29
usageCount: 5
rating: 4.5
---

# è§’è‰²åŸå‹: ç”·æ€§ä¾¦æ¢

## åŸºæœ¬ä¿¡æ¯

**åŸå‹åç§°**: ç»å…¸é»‘è‰²ç”µå½±ä¾¦æ¢
**é€‚ç”¨åœºæ™¯**: æ‚¬ç–‘ã€çŠ¯ç½ªã€é»‘è‰²ç”µå½±ç±»æ•…äº‹

## å¤–è§‚æ¨¡æ¿

**å¹´é¾„**: 30-40 å²
**èº«é«˜**: 175-185cm
**ä½“å‹**: ç²¾ç˜¦,æœ‰è‚Œè‚‰çº¿æ¡

**æœè£…**:
- æ ‡å¿—æ€§: é»‘è‰²/ç°è‰²é£è¡£
- ä¸Šè£…: ç™½è¡¬è¡«æˆ–æ·±è‰²è¡¬è¡«
- ä¸‹è£…: é»‘è‰²/æ·±ç°é•¿è£¤
- é‹å­: çš®é‹(ç•¥æ˜¾ç£¨æŸ)
- é…é¥°: å¯é€‰æ€€è¡¨/æ‰“ç«æœº

**å‘å‹**:
- çŸ­å‘,ç•¥æ˜¾å‡Œä¹±
- é¢œè‰²: é»‘è‰²/æ·±æ£•è‰²
- é£æ ¼: ä¸åˆ»æ„æ‰“ç†,è‡ªç„¶

**é¢éƒ¨ç‰¹å¾**:
- çœ¼ç¥: çŠ€åˆ©,æ²§æ¡‘
- è¡¨æƒ…: å¸¸çš±çœ‰,ä¸¥è‚ƒ
- èƒ¡é¡»: å¯é€‰çŸ­é¡»/èƒ¡èŒ¬

## æ€§æ ¼æ¨¡æ¿

**æ ¸å¿ƒç‰¹è´¨**:
1. å­¤åƒ»: ä¸å–„äº¤é™…,ç‹¬æ¥ç‹¬å¾€
2. æ•é”: è§‚å¯ŸåŠ›å¼º,é€»è¾‘ç¼œå¯†
3. æ‰§ç€: ä¸€æ—¦æ¥æ‰‹,ç»ä¸æ”¾å¼ƒ
4. æ²§æ¡‘: ç»å†è¿‡èƒŒå›,å¯¹ä¸–ç•Œå¤±æœ›
5. æ­£ä¹‰æ„Ÿ: å†…å¿ƒä»ç›¸ä¿¡æ­£ä¹‰

**å¯¹è¯é£æ ¼**:
- ç®€çŸ­,ç›´æ¥
- å°‘åºŸè¯,åˆ‡ä¸­è¦å®³
- å¶å°”å†·å¹½é»˜

## èƒŒæ™¯æ¨¡æ¿

**èŒä¸šç»å†**:
- å‰è­¦å¯Ÿ/ç§å®¶ä¾¦æ¢/è®°è€… (å¯é€‰)
- å› æŸä¸ªäº‹ä»¶ç¦»å¼€åŸèŒä¸š
- ç°åœ¨ç‹¬ç«‹å·¥ä½œ

**åˆ›ä¼¤äº‹ä»¶** (å¯é€‰):
- äº²äººå»ä¸–
- è¢«èƒŒå›
- æ¡ˆä»¶å¤±è´¥

## æ ‡å¿—æ€§å…ƒç´ 

**é“å…·**:
- æ€€è¡¨/æ‰“ç«æœº/ç¬”è®°æœ¬ (ä¸‰é€‰ä¸€)
- è±¡å¾è¿‡å»æˆ–ä¿¡å¿µ

**ä¹ æƒ¯åŠ¨ä½œ**:
- æ€è€ƒæ—¶çš±çœ‰
- çƒ¦èºæ—¶ç‚¹çƒŸ(æˆ–å‡è£…ç‚¹çƒŸ)
- æ•´ç†é£è¡£é¢†å­

## ç»˜å›¾æç¤ºè¯

```
Detective character, male, 30-40 years old, black trench coat,
short dark hair, sharp eyes, serious expression, film noir style,
standing in rain, cinematic lighting, moody atmosphere,
holding a pocket watch, mysterious and brooding
```

## ä½¿ç”¨æ¡ˆä¾‹

**é¡¹ç›®**: æš—å··è°œæ¡ˆ
**è§’è‰²å**: æå¢¨
**è°ƒæ•´**: æ·»åŠ æ€€è¡¨(æ¯äº²é—ç‰©),å¼ºåŒ–å­¤ç‹¬æ„Ÿ

**é¡¹ç›®**: è¿·é›¾è¿½è¸ª
**è§’è‰²å**: é™ˆå³°
**è°ƒæ•´**: æ”¹ä¸ºå‰è®°è€…,å¢åŠ ç¤¾äº¤æŠ€èƒ½

## å˜ä½“å»ºè®®

1. **å¹´è½»ç‰ˆ**: 25-30 å²,æ›´å†²åŠ¨,ç»éªŒä¸è¶³
2. **è€ç»ƒç‰ˆ**: 45-55 å²,æ›´æ²‰ç¨³,ç–²æƒ«æ„Ÿ
3. **å¥³æ€§ç‰ˆ**: ä¿ç•™æ ¸å¿ƒç‰¹è´¨,è°ƒæ•´å¤–è§‚å’ŒèƒŒæ™¯
```

#### åœºæ™¯ç´ æç¤ºä¾‹: `scenes/urban/street-night.md`

```markdown
---
type: scene
category: urban
subcategory: outdoor
timeOfDay: night
weather: [clear, rain, fog]
tags: [è¡—é“, å¤œæ™š, éœ“è™¹ç¯, é»‘è‰²ç”µå½±, éƒ½å¸‚]
mood: [å­¤ç‹¬, å‹æŠ‘, ç¥ç§˜, ç´§å¼ ]
created: 2025-10-29
usageCount: 8
rating: 4.8
---

# åœºæ™¯åŸå‹: å¤œæ™šåŸå¸‚è¡—é“

## åŸºæœ¬ä¿¡æ¯

**åœºæ™¯åç§°**: é›¨å¤œè¡—å¤´ / éœ“è™¹è¡—é“
**é€‚ç”¨ç±»å‹**: æ‚¬ç–‘ã€çŠ¯ç½ªã€ç§‘å¹»ã€èµ›åšæœ‹å…‹

## ç¯å¢ƒæè¿°æ¨¡æ¿

**åœ°ç‚¹**: åŸå¸‚å•†ä¸šåŒºè¡—é“
**æ—¶é—´**: å¤œæ™š 20:00-02:00
**å¤©æ°”**: æ™´/é›¨/é›¾ (ä¸‰é€‰ä¸€)

**æ ¸å¿ƒå…ƒç´ **:
1. **éœ“è™¹ç¯ç‰Œ**: å•†åº—æ‹›ç‰Œ,äº”é¢œå…­è‰²
2. **è·¯ç¯**: æ˜æš—,é—´éš” 10-15 ç±³
3. **å»ºç­‘**: é«˜æ¥¼,çª—æˆ·æœ‰ç¯å…‰
4. **åœ°é¢**: æ¹¿æ¶¦(å¦‚ä¸‹é›¨),åå°„ç¯å…‰
5. **è½¦è¾†**: å¶å°”ç»è¿‡,å°¾ç¯æ‹–å½±

**æ°›å›´å…³é”®è¯**:
- å­¤ç‹¬
- å‹æŠ‘
- ç¥ç§˜
- é»‘è‰²ç”µå½±é£

## é…è‰²æ–¹æ¡ˆ

**ä¸»è‰²è°ƒ**:
- æš—è“ (#0A1929)
- æ·±ç° (#2C3E50)
- é»‘è‰² (#000000)

**å¼ºè°ƒè‰²**:
- éœ“è™¹ç²‰ (#FF006E)
- éœ“è™¹é’ (#00FFFF)
- éœ“è™¹é»„ (#FFD60A)

**å…‰æº**:
- éœ“è™¹ç¯: é«˜é¥±å’Œåº¦,å¼ºå¯¹æ¯”
- è·¯ç¯: æš–é»„è‰²,å¾®å¼±
- è½¦ç¯: ç™½è‰²/é»„è‰²

## åˆ†é•œå»ºè®®

**å¼€åœºé•œå¤´**:
1. è¿œæ™¯: å±•ç¤ºè¡—é“å…¨è²Œ,éœ“è™¹ç¯æ—ç«‹
2. ä¸­æ™¯: ä¸»è§’èµ°åœ¨è¡—ä¸Š,èƒŒå½±
3. ç‰¹å†™: éœ“è™¹ç¯åå°„åœ¨æ°´æ´¼ä¸­

**å¸¸ç”¨æ„å›¾**:
- å¯¹ç§°æ„å›¾: è¡—é“ä¸­å¤®,å»ºç­‘å¯¹ç§°
- ä¸‰åˆ†æ³•: ä¸»è§’åœ¨ç”»é¢ 1/3 å¤„
- ä½è§’åº¦: ä»°æ‹,å¼ºè°ƒé«˜æ¥¼å‹è¿«æ„Ÿ

**è¿é•œå»ºè®®**:
- æ¨é•œ: ä»è¿œæ™¯æ¨è‡³ä¸­æ™¯,èšç„¦ä¸»è§’
- è·Ÿé•œ: è·Ÿéšä¸»è§’è¡Œèµ°
- æ‘‡é•œ: å±•ç¤ºè¡—é“ç¯å¢ƒ

## éŸ³æ•ˆå»ºè®®

**ç¯å¢ƒéŸ³**:
- é›¨å£°(å¦‚ä¸‹é›¨): æŒç»­,ä¸­ç­‰éŸ³é‡
- è½¦æµå£°: è¿œå¤„,å¶å°”ç»è¿‡
- éœ“è™¹ç¯å—¡é¸£å£°: å¾®å¼±

**ç‰¹æ®ŠéŸ³æ•ˆ**:
- è„šæ­¥å£°: ä¸»è§’è¡Œèµ°
- æ°´æº…å£°: è¸©æ°´å‘(å¦‚ä¸‹é›¨)

**BGM å»ºè®®**:
- ç”µå­éŸ³ä¹(èµ›åšæœ‹å…‹)
- çˆµå£«ä¹(é»‘è‰²ç”µå½±)
- æ°›å›´éŸ³ä¹(æ‚¬ç–‘)

## ç»˜å›¾æç¤ºè¯

**åŸºç¡€ç‰ˆ**:
```
Night city street, neon lights, wet pavement, reflections,
film noir style, dark and moody, cinematic lighting,
high contrast, urban environment
```

**ä¸‹é›¨ç‰ˆ**:
```
Rainy night city street, neon lights reflection on wet ground,
puddles, dramatic lighting, film noir, moody atmosphere,
lone figure walking, cinematic composition
```

**èµ›åšæœ‹å…‹ç‰ˆ**:
```
Cyberpunk city street at night, neon signs, holographic ads,
wet streets with reflections, futuristic buildings,
atmospheric fog, high tech low life aesthetic
```

## ä½¿ç”¨æ¡ˆä¾‹

**é¡¹ç›®**: æš—å··è°œæ¡ˆ
**åœºæ™¯ç”¨é€”**: å¼€åœº,ä¸»è§’æ¥ç”µè¯
**è°ƒæ•´**: æ·»åŠ é›¨,å¼ºåŒ–å­¤ç‹¬æ„Ÿ

**é¡¹ç›®**: èµ›åšä¾¦æ¢
**åœºæ™¯ç”¨é€”**: è¿½é€æˆ
**è°ƒæ•´**: å¢åŠ å…¨æ¯å¹¿å‘Š,ç§‘å¹»å…ƒç´ 

## å˜ä½“å»ºè®®

1. **ç™½å¤©ç‰ˆ**: é˜³å…‰åˆºçœ¼,äººç¾¤æ‹¥æŒ¤,ç°ä»£éƒ½å¸‚æ„Ÿ
2. **é›¾éœ¾ç‰ˆ**: èƒ½è§åº¦ä½,ç¥ç§˜å‹æŠ‘
3. **åºŸåœŸç‰ˆ**: ç ´è´¥,åƒåœ¾,æœ«æ—¥æ„Ÿ
```

#### å‰§æƒ…æ¨¡æ¿ç¤ºä¾‹: `plot-templates/confrontation.md`

```markdown
---
type: plot-template
category: conflict
duration: medium
shotCount: 8-12
tags: [å¯¹å³™, å†²çª, ç´§å¼ , å¯¹è¯]
difficulty: medium
created: 2025-10-29
usageCount: 12
rating: 4.6
---

# å‰§æƒ…æ¨¡æ¿: å¯¹å³™åœºæ™¯

## æ¨¡æ¿ä¿¡æ¯

**é€‚ç”¨åœºæ™¯**: ä¸»è§’ä¸åæ´¾/å¯¹æ‰‹çš„æ­£é¢å†²çª
**æƒ…ç»ª**: ç´§å¼ ã€å¯¹æŠ—ã€å‰‘æ‹”å¼©å¼ 
**å»ºè®®æ—¶é•¿**: 1-2 åˆ†é’Ÿ (æ¼«ç”» 8-12 åˆ†é•œ)

## ç»“æ„æ¡†æ¶

### é˜¶æ®µ 1: ç›¸é‡ (2-3 åˆ†é•œ)

**ç›®æ ‡**: å»ºç«‹å¯¹å³™æ°›å›´

**é•œå¤´ 1**: è¿œæ™¯
- åŒæ–¹ä»ä¸¤ä¸ªæ–¹å‘èµ°æ¥
- ç¯å¢ƒç©ºæ—·,çªå‡ºå­¤ç«‹æ„Ÿ

**é•œå¤´ 2**: ä¸­æ™¯
- åŒæ–¹åœæ­¥,ç›¸è· 5-10 ç±³
- å¯¹è§†,çœ¼ç¥äº¤é”‹

**é•œå¤´ 3** (å¯é€‰): ç‰¹å†™
- ä¸»è§’/åæ´¾çœ¼ç›ç‰¹å†™
- çœ¼ç¥çŠ€åˆ©,æ€æ°”

### é˜¶æ®µ 2: å¯¹è¯äº¤é”‹ (4-6 åˆ†é•œ)

**ç›®æ ‡**: è¯­è¨€äº¤é”‹,æ­ç¤ºå†²çª

**é•œå¤´ 4-5**: äº¤æ›¿è¿‘æ™¯
- ä¸»è§’è¯´è¯ â†’ åæ´¾å›åº”
- é‡‡ç”¨æ­£åæ‰“ (Shot/Reverse Shot)

**é•œå¤´ 6**: ä¸­æ™¯
- åæ´¾æŒ‘è¡…åŠ¨ä½œ(å¦‚ææª/äº®åˆ€)
- ä¸»è§’ååº”

**é•œå¤´ 7**: ç‰¹å†™
- æ­¦å™¨/é“å…·ç‰¹å†™
- å¼ºè°ƒå±é™©

### é˜¶æ®µ 3: å‡çº§ (2-3 åˆ†é•œ)

**ç›®æ ‡**: å†²çªå‡çº§,ç‰©ç†å¯¹æŠ—æˆ–æƒ…ç»ªçˆ†å‘

**é•œå¤´ 8**: å…¨æ™¯
- åŒæ–¹å¼€å§‹è¡ŒåŠ¨(æ‰“æ–—/é€ƒè·‘/å¼€æª)

**é•œå¤´ 9-10**: å¿«é€Ÿå‰ªè¾‘
- åŠ¨ä½œç‰¹å†™(æ‹³å¤´/æªå£/åˆ€åˆƒ)
- åˆ¶é€ ç´§å¼ èŠ‚å¥

**é•œå¤´ 11**: ä¸­æ™¯/è¿œæ™¯
- ç»“æœå±•ç¤º(ä¸€æ–¹å ä¸Šé£/åƒµæŒ)

## è¿é•œå»ºè®®

**é˜¶æ®µ 1**: é™æ­¢æˆ–ç¼“æ…¢æ¨é•œ
- è¥é€ å‹è¿«æ„Ÿ
- é€æ¸èšç„¦

**é˜¶æ®µ 2**: æ­£åæ‰“ + è½»å¾®æŠ–åŠ¨
- æ¨¡æ‹Ÿç´§å¼ æƒ…ç»ª
- å¿«é€Ÿåˆ‡æ¢

**é˜¶æ®µ 3**: å¿«é€Ÿå‰ªè¾‘ + æ‰‹æŒæ•ˆæœ
- æ··ä¹±æ„Ÿ
- é«˜èƒ½é‡

## å¯¹è¯æ¨¡æ¿

**ä¸»è§’** (å†·é™,è¯•æ¢):
"æˆ‘æ²¡æƒ³åˆ°ä¼šåœ¨è¿™é‡Œè§åˆ°ä½ ã€‚"

**åæ´¾** (æŒ‘è¡…):
"æƒŠå–œå—?ä½ ä»¥ä¸ºæˆ‘ä¼šè®©ä½ å®‰å…¨ç¦»å¼€?"

**ä¸»è§’** (è­¦è§‰):
"é‚£è¦çœ‹ä½ æœ‰æ²¡æœ‰æœ¬äº‹ã€‚"

**åæ´¾** (ææª/äº®åˆ€):
"è¯•è¯•?"

**ä¸»è§’** (å‡†å¤‡è¿æˆ˜):
"æ¥å§ã€‚"

(å†²çªçˆ†å‘)

## éŸ³æ•ˆå»ºè®®

**ç¯å¢ƒéŸ³**:
- é£å£°(å¼ºåŒ–ç´§å¼ )
- è„šæ­¥å£°(æ¸…æ™°)

**ç‰¹æ®ŠéŸ³æ•ˆ**:
- æ­¦å™¨å‡ºé˜å£°
- æ‰³æœºæ‰£åŠ¨å£°
- å‘¼å¸å£°(åŠ é‡)

**BGM**:
- é˜¶æ®µ 1: ä½é¢‘,å‹æŠ‘
- é˜¶æ®µ 2: é€æ¸å¢å¼º
- é˜¶æ®µ 3: é«˜æ½®,å¿«èŠ‚å¥

## ä½¿ç”¨ç¤ºä¾‹

**é¡¹ç›®**: æš—å··è°œæ¡ˆ
**å¯¹å³™åŒæ–¹**: æå¢¨ vs ç¥ç§˜æ€æ‰‹
**åœ°ç‚¹**: å¤©å°
**è°ƒæ•´**: æ·»åŠ é›¨,æ­¦å™¨æ”¹ä¸ºåŒ•é¦–

**é¡¹ç›®**: æ ¡å›­ä¾¦æ¢
**å¯¹å³™åŒæ–¹**: å­¦ç”Ÿä¾¦æ¢ vs æ ¡é•¿
**åœ°ç‚¹**: åŠå…¬å®¤
**è°ƒæ•´**: æ— æ­¦å™¨,çº¯è¯­è¨€äº¤é”‹

## å˜ä½“

1. **å¿ƒç†æˆ˜**: çº¯å¯¹è¯,æ— ç‰©ç†å†²çª
2. **å¿«é€Ÿå¯¹å³™**: çœç•¥å¯¹è¯,ç›´æ¥å¼€æ‰“
3. **ç¾¤ä½“å¯¹å³™**: åŒæ–¹å„æœ‰å¸®æ‰‹
```

---

## ä¸‰ã€ç´ æç®¡ç†ç³»ç»Ÿ

### 3.1 åˆ›å»ºç´ æ

```bash
# åˆ›å»ºè§’è‰²ç´ æ
$ scriptify /materials create character --name "æå¢¨" --archetype detective

ã€AIã€‘: æ£€æµ‹åˆ°è§’è‰²åŸå‹"ä¾¦æ¢",æ˜¯å¦åŸºäºæ¨¡æ¿åˆ›å»º?(Y/n)
> Y

ã€AIã€‘: æ‰¾åˆ°æ¨¡æ¿: detective-male.md
   åº”ç”¨æ¨¡æ¿?(Y/n)
> Y

ã€AIã€‘: è¯·è¡¥å……è§’è‰²ä¸ªæ€§åŒ–ä¿¡æ¯...

(ç”¨æˆ·å¡«å†™å…·ä½“ç»†èŠ‚)

âœ… è§’è‰²"æå¢¨"å·²åˆ›å»ºå¹¶ä¿å­˜åˆ°ç´ æåº“
```

### 3.2 æœç´¢ç´ æ

```bash
# æŒ‰æ ‡ç­¾æœç´¢
$ scriptify /materials search --tags "ä¾¦æ¢,å­¤ç‹¬"

ã€AIã€‘: æ‰¾åˆ° 3 ä¸ªåŒ¹é…ç´ æ:

1. [è§’è‰²] ç”·æ€§ä¾¦æ¢åŸå‹
   æ ‡ç­¾: ä¾¦æ¢,å­¤ç‹¬,æ­£ä¹‰,æ²§æ¡‘
   ä½¿ç”¨æ¬¡æ•°: 5 æ¬¡
   è¯„åˆ†: 4.5/5

2. [è§’è‰²] æå¢¨ (é¡¹ç›®: æš—å··è°œæ¡ˆ)
   æ ‡ç­¾: ä¾¦æ¢,å­¤ç‹¬,æ€€è¡¨,å‰è­¦å¯Ÿ
   ä½¿ç”¨æ¬¡æ•°: 1 æ¬¡
   è¯„åˆ†: æœªè¯„åˆ†

3. [åœºæ™¯] é›¨å¤œè¡—å¤´
   æ ‡ç­¾: è¡—é“,å¤œæ™š,å­¤ç‹¬,é»‘è‰²ç”µå½±
   ä½¿ç”¨æ¬¡æ•°: 8 æ¬¡
   è¯„åˆ†: 4.8/5

# æŒ‰ç±»å‹æœç´¢
$ scriptify /materials search --type character --category protagonist

# å…¨æ–‡æœç´¢
$ scriptify /materials search "é»‘è‰²é£è¡£"
```

### 3.3 å¯¼å…¥ç´ æ

```bash
$ scriptify /materials import --id detective-male --to current-project

ã€AIã€‘: å°†"ç”·æ€§ä¾¦æ¢åŸå‹"å¯¼å…¥å½“å‰é¡¹ç›®?
   1. ç›´æ¥å¤åˆ¶
   2. åˆ›å»ºå‰¯æœ¬å¹¶è‡ªå®šä¹‰
   3. ä»…ä½œä¸ºå‚è€ƒ

> 2

ã€AIã€‘: è¯·è¾“å…¥æ–°è§’è‰²åç§°
> é™ˆå³°

ã€AIã€‘: å·²åˆ›å»ºè§’è‰²"é™ˆå³°"(åŸºäºä¾¦æ¢åŸå‹)
   è¯·ä½¿ç”¨ /characters edit è¿›è¡Œè‡ªå®šä¹‰
```

### 3.4 å¤ç”¨ä¸å˜ä½“

```bash
$ scriptify /materials reuse --id "æå¢¨" --variant "å¹´è½»ç‰ˆ"

ã€AIã€‘: åˆ›å»º"æå¢¨"çš„å¹´è½»ç‰ˆå˜ä½“...
   - å¹´é¾„: 30 â†’ 25
   - æ€§æ ¼: æ‰§ç€ â†’ å†²åŠ¨
   - ç»éªŒ: è€ç»ƒ â†’ æ–°æ‰‹

âœ… å·²åˆ›å»ºå˜ä½“"æå¢¨(å¹´è½»ç‰ˆ)"
```

---

## å››ã€æ™ºèƒ½æ¨èç³»ç»Ÿ

### 4.1 åŸºäºä¸Šä¸‹æ–‡æ¨è

```bash
$ scriptify /storyboard

ã€AIã€‘: åˆ†æå‰§æœ¬...
   - åœºæ™¯: å¤œæ™šè¡—é“
   - æƒ…ç»ª: å­¤ç‹¬,å‹æŠ‘

ğŸ’¡ æ¨èç´ æ:

[åœºæ™¯] é›¨å¤œè¡—å¤´ (åŒ¹é…åº¦ 95%)
  ç†ç”±: åœºæ™¯ç±»å‹åŒ¹é…,æƒ…ç»ªå¥‘åˆ

[è¿é•œ] ç´§å¼ æ„Ÿè¥é€  (åŒ¹é…åº¦ 88%)
  ç†ç”±: é€‚åˆæ‚¬ç–‘ç±»å‹,è¥é€ æ°›å›´

æ˜¯å¦åº”ç”¨æ¨èç´ æ?(Y/n) Y

âœ… å·²åº”ç”¨ 2 ä¸ªæ¨èç´ æ
```

### 4.2 åŸºäºå†å²ä½¿ç”¨

```bash
ã€AIã€‘: æ£€æµ‹åˆ°ä½ åœ¨ä¹‹å‰é¡¹ç›®ä¸­ä½¿ç”¨è¿‡"ä¾¦æ¢åŸå‹"
   æ˜¯å¦ç»§ç»­ä½¿ç”¨ç›¸åŒé£æ ¼?(Y/n)
```

---

## äº”ã€ç´ æç´¢å¼•ä¸æœç´¢

### 5.1 SQLite ç´¢å¼•

```sql
-- ç´ æç´¢å¼•è¡¨
CREATE TABLE materials (
  id TEXT PRIMARY KEY,
  type TEXT,  -- character/scene/plot-template/camera-preset
  name TEXT,
  category TEXT,
  tags TEXT,  -- JSON array
  file_path TEXT,
  created_at DATETIME,
  last_used DATETIME,
  usage_count INTEGER,
  rating REAL
);

-- æ ‡ç­¾è¡¨
CREATE TABLE tags (
  id INTEGER PRIMARY KEY,
  tag TEXT UNIQUE,
  count INTEGER
);

-- å…¨æ–‡æœç´¢
CREATE VIRTUAL TABLE materials_fts USING fts5(
  name,
  content,
  tags
);
```

### 5.2 æœç´¢å®ç°

```typescript
// src/materials/search-engine.ts

class MaterialSearchEngine {
  async search(query: SearchQuery): Promise<Material[]> {
    const results = await this.db.query(`
      SELECT * FROM materials
      WHERE tags LIKE ?
      ORDER BY usage_count DESC, rating DESC
      LIMIT 10
    `, [`%${query.tag}%`]);

    return results.map(r => this.parseMaterial(r));
  }

  async fullTextSearch(keyword: string): Promise<Material[]> {
    return this.db.query(`
      SELECT * FROM materials_fts
      WHERE materials_fts MATCH ?
      ORDER BY rank
    `, [keyword]);
  }
}
```

---

## å…­ã€ç´ æè¯„åˆ†ä¸æ¨è

### 6.1 ä½¿ç”¨åè¯„åˆ†

```bash
$ scriptify /export

ã€AIã€‘: å¯¼å‡ºæˆåŠŸ! ğŸ‰

ğŸ“Š æœ¬æ¬¡é¡¹ç›®ä½¿ç”¨äº†ä»¥ä¸‹ç´ æ:
   1. [è§’è‰²] ç”·æ€§ä¾¦æ¢åŸå‹
   2. [åœºæ™¯] é›¨å¤œè¡—å¤´
   3. [å‰§æƒ…] å¯¹å³™åœºæ™¯

è¯·å¯¹ç´ æè¿›è¡Œè¯„åˆ†(1-5æ˜Ÿ,å¯è·³è¿‡):

ç´ æ 1: ç”·æ€§ä¾¦æ¢åŸå‹
> 5

ç´ æ 2: é›¨å¤œè¡—å¤´
> 5

ç´ æ 3: å¯¹å³™åœºæ™¯
> 4

âœ… æ„Ÿè°¢åé¦ˆ! è¯„åˆ†å·²è®°å½•
```

### 6.2 æ¨èç®—æ³•

```typescript
function recommendMaterials(context: ProjectContext): Material[] {
  // 1. åŸºäºæ ‡ç­¾ç›¸ä¼¼åº¦
  const tagMatches = searchByTags(context.tags);

  // 2. åŸºäºå†å²ä½¿ç”¨
  const historyMatches = getUserHistory(context.userId);

  // 3. åŸºäºè¯„åˆ†
  const topRated = getTopRated(context.type);

  // 4. ç»¼åˆè¯„åˆ†
  return mergeAndRank([tagMatches, historyMatches, topRated]);
}
```

---

## ä¸ƒã€ç´ æåŒæ­¥ä¸å…±äº«

### 7.1 æœ¬åœ°ç´ æåº“

```
~/.scriptify/materials/
  â””â”€â”€ (ç”¨æˆ·ä¸ªäººç´ æ)
```

### 7.2 äº‘ç«¯ç´ æåº“ (æœªæ¥åŠŸèƒ½)

```bash
# ä¸Šä¼ åˆ°äº‘ç«¯
$ scriptify /materials upload --id "æå¢¨"

# ä»äº‘ç«¯ä¸‹è½½
$ scriptify /materials download --id "community/detective-template"

# æµè§ˆç¤¾åŒºç´ æ
$ scriptify /materials browse --community
```

---

## å…«ã€æ€»ç»“

- [x] **PRD-05**: ç´ æåº“ç³»ç»Ÿ (æœ¬æ–‡æ¡£)
- [ ] **PRD-06**: åˆ†é•œè„šæœ¬è§„èŒƒ
- [ ] **PRD-07**: å¤šå¹³å°å‘½ä»¤ç”Ÿæˆ

---

**æ–‡æ¡£ç‰ˆæœ¬å†å²**:
- v1.0 (2025-10-29): åˆå§‹ç‰ˆæœ¬,å®šä¹‰ç´ æåº“ç³»ç»Ÿ
