# PRD-04: Scriptify 完整创作流程

**版本**: v1.0
**日期**: 2025-10-29
**依赖**: PRD-01, PRD-02, PRD-03
**状态**: 草案

---

## 一、流程总览

### 1.1 十步创作工作流

Scriptify 将分镜创作标准化为 **10 个步骤**,每个步骤对应一个斜杠命令:

```
准备阶段
  ├─ Step 1: /specify      (定义项目需求)
  └─ Step 2: /story        (故事构思)

素材阶段
  ├─ Step 3: /characters   (角色设定)
  ├─ Step 4: /scenes       (场景设定)
  └─ Step 5: /materials    (素材搜索)

创作阶段
  ├─ Step 6: /script       (编写剧本)
  └─ Step 7: /storyboard   (生成分镜)

优化阶段
  ├─ Step 8: /camera       (运镜优化)
  └─ Step 9: /review       (审校检查)

发布阶段
  └─ Step 10: /export      (导出发布)
```

### 1.2 流程可视化

```
                    Scriptify 创作流程

[准备] ━━━━━━┓
              ┣━━━━━> /specify ━━━> 项目配置文件
[用户输入] ━━┛         (1-2分钟)         ↓
                                   brief.md
                                        ↓
                     /story ━━━━━━━━━━━┛
                  (5-10分钟)         ↓
                              story-outline.md
                                        ↓
[素材库] ━━━━┓
              ┣━━━> /characters + /scenes + /materials
[历史项目] ━━┛              (10-20分钟)
                                        ↓
                     角色库.md + 场景库.md + 素材索引
                                        ↓
                     /script ━━━━━━━━━┛
                  (30-60分钟)         ↓
                                script.md (剧本)
                                        ↓
                ┏━━━━━━━━━━━━┻━━━━━━━━━━━━━┓
                ↓                          ↓
        [🎓 教练模式]            [⚡ 快速模式/🔄 混合模式]
         AI提问引导                   AI自动生成
         用户手写分镜                 用户审校调整
          (3-4小时)                   (30-90分钟)
                ↓                          ↓
                └━━━━━━━━━━┳━━━━━━━━━━━━━┘
                           ↓
                    storyboard-draft.md
                           ↓
                  /camera (运镜优化)
                    (10-20分钟)
                           ↓
                    /review (三遍审校)
                    (20-30分钟)
                           ↓
                  storyboard-final.md
                           ↓
                  /export (导出)
                    (1-2分钟)
                           ↓
           ┏━━━━━━━━━━━━┻━━━━━━━━━━━━┓
           ↓              ↓              ↓
      Markdown         剪映JSON       AE脚本
```

---

## 二、详细流程说明

### Step 1: `/specify` - 定义项目需求

**目标**: 初始化项目,配置工作区和创作模式

#### 交互流程

```bash
$ scriptify /specify

=== Scriptify 项目初始化 ===

Q1: 项目名称?
> 暗巷谜案

Q2: 选择工作区:
   1. 📱 漫画工作区 (快看/腾讯动漫)
   2. 📹 短视频工作区 (抖音/快手)
   3. 🎬 动态漫工作区 (AE/剪映)
> 1

Q3: 目标平台?
   1. 快看漫画
   2. 腾讯动漫
   3. 微博动漫
   4. 自定义
> 1

Q4: 创作模式:
   1. 🎓 教练模式 (完全原创,AI引导,3-4h)
   2. ⚡ 快速模式 (AI生成,快速审校,30-60min)
   3. 🔄 混合模式 (AI框架,用户补充,1.5-2h)
   4. 稍后决定
> 3

Q5: 预计篇幅?
   1. 短篇 (10-15 分镜)
   2. 中篇 (20-30 分镜)
   3. 长篇 (40+ 分镜)
> 2

✅ 项目创建成功!

📁 项目目录: projects/暗巷谜案/
   ├── .scriptify/config.json
   ├── brief.md (已生成)
   └── materials/ (素材库)

💡 下一步: 使用 /story 开始故事构思
```

#### 输出文件: `brief.md`

```markdown
# 项目简介: 暗巷谜案

**项目信息**:
- 项目名称: 暗巷谜案
- 创建日期: 2025-10-29
- 作者: [待填写]

**工作区配置**:
- 工作区: 📱 漫画工作区
- 目标平台: 快看漫画
- 创作模式: 🔄 混合模式

**篇幅规划**:
- 预计分镜数: 20-30 个
- 预计页数: 15-20 页

**待完成**:
- [ ] 故事大纲 (/story)
- [ ] 角色设定 (/characters)
- [ ] 场景设定 (/scenes)
- [ ] 剧本 (/script)
- [ ] 分镜脚本 (/storyboard)
```

---

### Step 2: `/story` - 故事构思

**目标**: 明确故事核心,搭建叙事框架

#### 三种工作方式

**方式 A: AI 提问引导** (教练模式)

```bash
$ scriptify /story

【AI】: 让我们一起构思故事...

Q1: 你想讲什么类型的故事?
   [ ] 动作冒险  [ ] 悬疑推理  [ ] 爱情  [ ] 喜剧  [ ] 科幻
   [ ] 奇幻     [ ] 恐怖      [ ] 日常  [ ] 其他
> 悬疑推理

Q2: 故事的核心冲突是什么?(一句话概括)
> 私家侦探调查失踪案,发现真相比想象更黑暗

Q3: 主角的目标是什么?
> 找到失踪的女子,揭开背后的秘密

Q4: 主要阻碍是什么?
> 线索断裂,神秘组织阻挠,时间紧迫

Q5: 故事的情感基调?
> 黑暗、压抑、紧张

✅ 故事大纲已生成,请查看 story-outline.md
```

**方式 B: 用户已有大纲** (快速/混合模式)

```bash
$ scriptify /story --import my-outline.txt

【AI】: 已导入故事大纲,分析中...
   - 识别类型: 悬疑推理
   - 识别场景: 7个
   - 识别角色: 3个
   - 故事结构: 三幕式

✅ 已生成结构化大纲: story-outline.md
💡 下一步: /characters 设计角色
```

**方式 C: AI 生成大纲** (快速模式)

```bash
$ scriptify /story --generate

【AI】: 请提供故事主题或关键词
> 私家侦探,失踪案,画作线索

【AI】: 生成故事大纲中...

✅ 已生成 3 个故事方向,请选择:

方案1: 黑色电影风
  - 开场: 雨夜,侦探接受委托
  - 发展: 追踪线索,发现画作秘密
  - 高潮: 地下拍卖会,真相揭晓
  - 结局: 救出女子,幕后黑手逃脱

方案2: 心理悬疑
  ...

方案3: 超自然惊悚
  ...

请选择 (1-3): 1

✅ 已选择方案1,详细大纲已保存
```

#### 输出: `story-outline.md`

```markdown
# 故事大纲: 暗巷谜案

**类型**: 悬疑推理 + 黑色电影
**基调**: 黑暗、压抑、紧张
**时长**: 中篇 (预计 20-25 分镜)

## 核心设定

**主题**: 真相的代价
**核心冲突**: 私家侦探 vs. 神秘组织
**中心谜团**: 失踪女子 + 画作线索

## 三幕结构

### 第一幕: 设定 (5-8 分镜)

**场景 1: 雨夜街头**
- 侦探李墨独自漫步,接到委托电话
- 展示主角性格:孤僻、敏锐

**场景 2: 委托人会面**
- 富商委托寻找失踪的女儿
- 唯一线索:一幅画

**转折点**: 李墨发现画作背后的暗号

### 第二幕: 对抗 (10-15 分镜)

**场景 3-5: 调查过程**
- 追踪线索,深入黑市
- 遭遇阻挠,与神秘组织交锋

**中点**: 发现女子被困地下拍卖会

**场景 6-7: 潜入行动**
- 伪装进入拍卖会
- 紧张对峙

### 第三幕: 解决 (5-7 分镜)

**场景 8: 高潮对决**
- 真相揭晓:富商即是幕后黑手
- 救出女子

**场景 9: 结局**
- 女子获救,但黑手逃脱
- 开放式结局,留下悬念

## 情感曲线

```
紧张度
  ↑
  │         ╱╲ 高潮
  │        ╱  ╲
  │    ╱╲╱    ╲
  │   ╱         ╲╱ 结局
  │  ╱
  │ ╱
  └──────────────────→ 时间
  开场  调查  潜入  对决
```
```

---

### Step 3: `/characters` - 角色设定

**目标**: 创建角色设定库,包含外观、性格、关系

#### 命令选项

```bash
# 方式 A: AI 提问引导
$ scriptify /characters

# 方式 B: 从素材库导入
$ scriptify /characters --from-library

# 方式 C: AI 生成建议
$ scriptify /characters --generate
```

#### 交互示例 (提问引导)

```bash
$ scriptify /characters

【AI】: 根据故事大纲,建议创建以下角色:
   1. 主角 (侦探)
   2. 失踪女子
   3. 富商 (委托人/反派)

让我们逐个设计...

=== 角色 1: 侦探 ===

Q1: 角色姓名?
> 李墨

Q2: 基本信息?
   年龄: 30
   性别: 男
   职业: 私家侦探

Q3: 性格特点? (3-5 个关键词)
> 孤僻,敏锐,执着,沧桑,正义感

Q4: 外观特征?
> 黑色风衣,短发,眼神犀利,总是皱眉

Q5: 角色背景? (可选)
> 前警察,因揭发内部腐败被排挤,转行当私家侦探

Q6: 标志性元素? (道具/习惯)
> 随身携带一个怀表(已故母亲的遗物)

✅ 角色"李墨"创建完成!

继续创建角色 2? (Y/n) Y

...
```

#### 输出: `characters.md`

```markdown
# 角色设定: 暗巷谜案

## 主要角色

### 李墨 (主角)

**基本信息**:
- 姓名: 李墨
- 年龄: 30 岁
- 性别: 男
- 职业: 私家侦探

**性格**:
- 孤僻: 不善交际,独来独往
- 敏锐: 观察力强,善于捕捉细节
- 执着: 一旦接手案子,绝不放弃
- 沧桑: 经历过背叛,对世界失望
- 正义感: 内心深处仍相信正义

**外观**:
- 身高: 180cm
- 发型: 黑色短发,略显凌乱
- 服装: 黑色风衣(标志性),白衬衫,黑色长裤
- 眼神: 犀利,总是皱眉
- 体型: 精瘦,有肌肉

**背景故事**:
李墨曾是一名优秀警察,三年前因揭发警局内部腐败被排挤,
愤而辞职,转行当私家侦探。母亲去世后,他变得更加孤僻,
只通过办案来证明自己的价值。

**标志性元素**:
- 怀表: 已故母亲的遗物,李墨经常拿出来看
- 动作习惯: 思考时皱眉,烦躁时点烟(但不抽)

**关系网络**:
- 与富商: 委托关系 → 对立关系
- 与女子: 救助关系 → 可能的爱情线
- 与前同事: 复杂关系(有人帮助,有人阻挠)

**绘图参考**:
```
Detective in black trench coat, short black hair, sharp eyes,
30 years old Chinese male, film noir style, holding a pocket watch,
serious expression, cinematic lighting
```

---

### 神秘女子

**基本信息**:
- 姓名: 林薇
- 年龄: 25 岁
- 性别: 女
- 职业: 画廊助理

(详细信息...)

---

### 富商 (反派)

(详细信息...)

---

## 角色关系图

```
       [李墨]
          │
    委托  │  对立
          │
       [富商] ────── 父女关系 ────── [林薇]
                                       │
                                    救助
                                       │
                                    [李墨]
```
```

---

### Step 4: `/scenes` - 场景设定

**目标**: 定义故事中的关键场景,建立场景库

#### 输出: `scenes.md`

```markdown
# 场景设定: 暗巷谜案

## 场景 1: 雨夜街头

**地点**: 城市街道,商业区
**时间**: 夜晚 22:00,下雨
**氛围**: 孤独、压抑、黑色电影风

**环境描述**:
- 霓虹灯牌林立,在雨水中倒影
- 街道空无一人,偶尔有车经过
- 路灯昏暗,巷子里漆黑

**配色方案**:
- 主色调: 暗蓝、灰黑
- 强调色: 霓虹灯(粉红、青色、黄色)
- 天气: 雨(增加反射和氛围)

**音效**:
- 雨声(持续)
- 车流声(远处)
- 脚步声(主角)

**绘图参考**:
```
Rainy night city street, neon lights, film noir style,
dark and moody, wet pavement reflections,
cinematic lighting, urban environment
```

---

## 场景 2: 富商豪宅

(详细描述...)

---

## 场景 3: 地下拍卖会

(详细描述...)
```

---

### Step 5: `/materials` - 素材搜索

**目标**: 从素材库中搜索可复用的角色、场景、剧情模板

```bash
$ scriptify /materials --search "侦探"

【AI】: 在素材库中搜索"侦探"...

✅ 找到 3 个相关素材:

1. [角色] 侦探角色模板 (项目: 案件簿)
   - 外观: 风衣,帽子,皮鞋
   - 性格: 冷静,理性
   - 可复用: 外观参考,性格设定

2. [场景] 侦探事务所 (项目: 暗夜追凶)
   - 环境: 昏暗办公室,文件柜,台灯
   - 可复用: 场景描述,配色

3. [剧情] 追踪线索桥段 (项目: 迷案)
   - 情节: 主角发现暗号 → 追踪 → 遭遇阻挠
   - 可复用: 情节结构

导入哪些素材? (1-3,多选用逗号分隔)
> 1,2

✅ 已导入素材到当前项目
```

---

### Step 6: `/script` - 编写剧本

**目标**: 将故事大纲扩展为完整剧本

#### 三种方式

**A. 手动编写**
```bash
$ scriptify /script

【AI】: 已创建 script.md,请编辑剧本内容
```

**B. AI 辅助扩写**
```bash
$ scriptify /script --expand

【AI】: 根据故事大纲,生成剧本框架?
> Y

【AI】: 生成中... (预计 30秒)

✅ 已生成剧本框架,共 9 个场景
   请补充对话和细节描述
```

**C. 导入外部剧本**
```bash
$ scriptify /script --import my-script.txt
```

#### 输出: `script.md`

```markdown
# 剧本: 暗巷谜案

## 场景 1: 雨夜街头

**场景标题**: INT. 城市街道 - 夜晚 - 雨

**环境**: 霓虹灯,雨水,空无一人

**动作**:
李墨独自走在雨夜街头,风衣被雨水打湿。
他掏出怀表,看了一眼,叹气。

**旁白**:
这是一个没有月亮的夜晚。

**音效**: 雨声,脚步声

---

李墨的手机响起。

**对话**:

李墨 (接电话): "喂?"

富商 (画外音): "李侦探,我需要你的帮助。"

李墨: "什么案子?"

富商: "我女儿失踪了。"

李墨 (皱眉): "报警了吗?"

富商: "警察找了一周,毫无进展。我听说你..."

李墨: "明天上午九点,把资料发到我邮箱。"

(李墨挂断电话)

---

李墨继续往前走,突然,一个黑影从巷子里闪过。

李墨 (警觉): "谁?!"

他快步追了上去...

(切换到下一场景)

---

## 场景 2: 富商豪宅

(剧本内容...)
```

---

### Step 7: `/storyboard` - 生成分镜

**目标**: 将剧本转换为详细的分镜脚本

这是**核心步骤**,根据创作模式不同,流程不同:

#### A. 🎓 教练模式

```bash
$ scriptify /storyboard --mode coach

【AI】: 让我们逐场景设计分镜...

=== 场景 1: 雨夜街头 ===

【AI】: 这个场景想表达什么情绪?
> 孤独,压抑,黑色电影风

【AI】: 建议用 4-6 个镜头表现。你想用几个?
> 5

【AI】: 让我们设计第 1 个镜头...

Q: 想展示什么?(环境/角色/道具?)
> 城市街道环境 + 主角背影

【AI】: 建议使用【远景】,营造氛围。采纳?(Y/n)
> Y

Q: 镜头需要运动吗?
> 缓慢推镜

✅ 镜头 1 完成!

继续镜头 2...

(用户逐个设计 5 个镜头,AI 提供分镜理论指导)

✅ 场景 1 完成! (用时 40分钟)
```

#### B. ⚡ 快速模式

```bash
$ scriptify /storyboard --mode express

【AI】: 分析剧本...
   - 9 个场景
   - 建议 28 个镜头

⏳ 自动生成分镜中... (预计 30秒)

✅ 分镜生成完成! 共 28 个镜头

请使用 /preview 预览,或 /review 进行审校
```

#### C. 🔄 混合模式

```bash
$ scriptify /storyboard --mode hybrid

【AI】: 生成分镜框架中...

✅ 框架生成完成! 共 28 个镜头框架

接下来请使用 /fill 补充每个镜头的细节

$ scriptify /fill --scene 1

【AI】: 场景 1 共 5 个镜头,让我们逐个完成...

(用户在 AI 框架基础上补充细节)
```

---

### Step 8: `/camera` - 运镜优化

**目标**: 优化运镜参数,检查景别分布

```bash
$ scriptify /camera

【AI】: 分析分镜脚本...

📊 景别分布:
   - 远景: 4 个 (14%)
   - 全景: 2 个 (7%)
   - 中景: 10 个 (36%)
   - 近景: 8 个 (29%)
   - 特写: 4 个 (14%)

✅ 景别分布合理

📊 运镜方式:
   - 静止: 12 个 (43%)
   - 推镜: 6 个 (21%)
   - 拉镜: 2 个 (7%)
   - 摇镜: 4 个 (14%)
   - 跟镜: 4 个 (14%)

⚠️  建议: 适当增加运镜,避免过多静止镜头

💡 优化建议:
   1. 镜头 5: 改为推镜,增强紧张感
   2. 镜头 12: 改为跟镜,增加动态
   3. 镜头 18: 改为环绕,突出空间

应用建议?(Y/n) Y

✅ 已优化 3 个镜头
```

---

### Step 9: `/review` - 审校检查

**目标**: 三遍审校,确保质量

```bash
$ scriptify /review

=== 第一遍: 内容审校 ===

✅ 检查叙事连贯性...
✅ 检查对话合理性...
✅ 检查情绪曲线...

⚠️  发现 2 个问题:
   1. 镜头 8-9 之间跳跃,建议添加过渡镜头
   2. 场景 3 对话过多,建议精简

---

=== 第二遍: 风格审校 ===

✅ 检查景别多样性...
✅ 检查运镜合理性...

💡 3 条建议:
   1. 场景 1 可以尝试荷兰角(倾斜),强化不安感
   2. 高潮部分建议加快剪辑节奏
   3. 结尾可以用长镜头,留白

---

=== 第三遍: 细节审校 ===

✅ 检查时长分配...
✅ 检查音效标注...
✅ 检查绘图提示词...

⚠️  发现 1 个问题:
   1. 镜头 15 缺少音效标注

---

📋 审校报告已生成: review-report.md

修复问题?(Y/n) Y

(用户逐个修复问题)

✅ 所有问题已修复!
```

---

### Step 10: `/export` - 导出发布

**目标**: 导出为目标平台格式

```bash
$ scriptify /export

【AI】: 当前工作区: 📱 漫画工作区

可导出格式:
   1. Markdown (标准格式)
   2. PDF (打印版)
   3. PSD 模板 (Photoshop)
   4. Excel 表格

请选择 (1-4,多选用逗号分隔): 1,2

⏳ 导出中...

✅ 导出完成!
   - storyboard-final.md
   - storyboard-final.pdf

📁 文件位置: projects/暗巷谜案/exports/
```

#### 不同工作区的导出格式

**漫画工作区**:
- Markdown
- PDF
- PSD 模板
- Excel 表格

**短视频工作区**:
- Markdown
- 剪映 JSON
- PR XML
- PDF

**动态漫工作区**:
- Markdown
- AE JSX 脚本
- PR XML
- 剪映 JSON
- 项目结构文件夹

---

## 三、快捷流程

### 3.1 极速流程 (快速模式,30 分钟)

```bash
$ scriptify /specify --workspace short-video --mode express
$ scriptify /story --import my-script.txt
$ scriptify /storyboard --generate
$ scriptify /review
$ scriptify /export --format 剪映
```

### 3.2 标准流程 (混合模式,2 小时)

```bash
$ scriptify /specify
$ scriptify /story
$ scriptify /characters
$ scriptify /script --expand
$ scriptify /storyboard --mode hybrid
$ scriptify /fill
$ scriptify /camera
$ scriptify /review
$ scriptify /export
```

### 3.3 深度流程 (教练模式,4 小时)

```bash
$ scriptify /specify --mode coach
$ scriptify /story
$ scriptify /characters
$ scriptify /scenes
$ scriptify /materials --search
$ scriptify /script
$ scriptify /storyboard --mode coach
$ scriptify /camera
$ scriptify /review
$ scriptify /export
```

---

## 四、总结

- [x] **PRD-04**: 完整创作流程 (本文档)
- [ ] **PRD-05**: 素材库系统
- [ ] **PRD-06**: 分镜脚本规范
- [ ] **PRD-07**: 多平台命令生成

---

**文档版本历史**:
- v1.0 (2025-10-29): 初始版本,定义完整创作流程
